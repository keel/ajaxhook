function __ajax_hook(e){window.__xhr_org=window.__xhr_org||XMLHttpRequest,XMLHttpRequest=function(){var o=new window.__xhr_org;this.xhr=o,this.hookConfig=e;var t=this;t.isHook=1,t.DONE=4,t.HEADERS_RECEIVED=2,t.LOADING=3,t.OPENED=1,t.UNSENT=0;var r=0,n=0,s=["readyState","response","responseText","responseType","responseURL","responseXML","status","statusText","timeout","upload","withCredentials"];t.newPropMap={},t.syncProps=function(){for(r=0,n=s.length;r<n;r++){var e=s[r];t.newPropMap[e]||(t[e]=t.xhr[e])}},t.updateProps=function(){t.xhr.readyState<2&&(t.xhr.responseType=t.responseType||t.xhr.responseType,t.xhr.timeout=t.timeout||t.xhr.timeout,t.xhr.withCredentials=t.withCredentials||t.xhr.withCredentials)},t.regEvent=function(e){e="on"+e,t.xhr[e]=function(o){if(t.syncProps(),t.hookConfig&&t.hookConfig[e])return t.hookConfig[e].apply(t,[o]);t[e]&&t[e](o)}},t.regFun=function(e){t[e]=function(){t.updateProps();var o=[].slice.call(arguments);return t.hookConfig&&t.hookConfig[e]?t.hookConfig[e].apply(t,o):t.xhr[e].apply(t.xhr,o)}},t.doReg=function(e,o){for(r=0,n=o.length;r<n;r++)t[e](o[r])},t.updateXhr=function(e,o){t[e]=o,t.newPropMap[e]=1};t.doReg("regFun",["abort","send","getResponseHeader","getAllResponseHeaders","overrideMimeType","setRequestHeader","open"]),t.doReg("regEvent",["readystatechange","loadstart","load","loadend","progress","error","abort","timeout"])}}function __ajax_unhook(){XMLHttpRequest=window.__xhr_org||XMLHttpRequest}